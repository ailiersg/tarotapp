(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"3jum":function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),o=t("ZZ/e"),i=t("Pk4o"),r=t("Pn9U"),u=function(n,e,t,l){return new(t||(t=Promise))(function(o,i){function r(n){try{a(l.next(n))}catch(e){i(e)}}function u(n){try{a(l.throw(n))}catch(e){i(e)}}function a(n){n.done?o(n.value):new t(function(e){e(n.value)}).then(r,u)}a((l=l.apply(n,e||[])).next())})},a=function(n,e){var t,l,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,l&&(o=2&i[0]?l.return:i[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,i[1])).done)return o;switch(l=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(n,r)}catch(u){i=[6,u],l=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},c=function(){function n(n,e,t,l,o,i){this.appmin=n,this.navCtrl=e,this.alertCtrl=t,this.actionSheetCtrl=l,this.loadingCtrl=o,this.camera=i,this.selectImgUrl="","ios"==n.GetPhoneMode()?this.header_class="header_class":(this.header_class="header_class",console.log("\u5224\u65ad\u4e3a\u5b89\u5353\u7cfb\u7edf \u8bbe\u7f6e\u72b6\u6001\u680f\u6837\u5f0f"))}return n.prototype.addServiceImgs=function(){console.log("addServiceImgs()!");var n={type:"serviceImgs",userId:this.appmin.getUserid()};this.send(JSON.stringify(n),!1)},n.prototype.send=function(n,e){var t=this;e&&(this.loader||(this.loader=this.loadingCtrl.create({message:"\u52a0\u8f7d\u4e2d...",duration:3e3}),this.loader.present())),this.appmin.post(JSON.parse(n)).subscribe(function(n){t.dataHandle(n)})},n.prototype.Photograph=function(){var n=this;console.log("\u62cd\u7167\u4e0a\u4f20"),this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:800,targetHeight:450,allowEdit:!0,cameraDirection:0}).then(function(e){n.getBase64Image(e)},function(n){})},n.prototype.deleteServiceImg=function(){var n={type:"deleteServiceImg",userId:this.appmin.getUserid(),imgUrl:this.selectImgUrl};this.send(JSON.stringify(n),!0)},n.prototype.add_img=function(){return u(this,void 0,void 0,function(){var n=this;return a(this,function(e){switch(e.label){case 0:return console.log("\u6dfb\u52a0\u56fe\u7247\u6309\u94ae"),[4,this.actionSheetCtrl.create({header:"",buttons:[{text:"\u56fe\u5e93",role:"destructive",handler:function(){Object(i.b)("\u4ece\u56fe\u5e93\u4e0a\u4f20"),n.userSelectImg()}},{text:"\u62cd\u7167",handler:function(){Object(i.b)("\u62cd\u7167"),n.Photograph()}},{text:"\u53d6\u6d88",role:"cancel",handler:function(){console.log("\u53d6\u6d88 clicked")}}]})];case 1:return e.sent().present(),[2]}})})},n.prototype.userSelectImg=function(){var n=this;console.log("\u4ece\u56fe\u5e93\u4e0a\u4f20"),this.camera.getPicture({quality:100,sourceType:0,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:800,targetHeight:450}).then(function(e){n.getBase64Image(e)},function(n){})},n.prototype.getBase64Image=function(n){console.log("\u8f6c\u7801\u5e76\u53d1\u9001"),n=window.Ionic.WebView.convertFileSrc(n);var e=this,t=new Image;t.src=n,t.onload=function(){console.log("getBase64Image()-\u56fe\u50cf\u8f7d\u5165\u6b63\u5e38");var n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0,t.width,t.height);var l=n.toDataURL("image/jpeg");console.log("dataURL="+l);var o={type:"upUserServiceImg",userid:e.appmin.getUserid(),imgBase64:l};e.send(JSON.stringify(o),!0),console.log(JSON.stringify(o))},t.onerror=function(){console.log("getBase64Image_\u56fe\u50cf\u8f7d\u5165\u5931\u8d25")}},n.prototype.presentAlert=function(n){return u(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.alertCtrl.create({header:"\u63d0\u793a",subHeader:n,buttons:["\u786e\u5b9a"]})];case 1:return e.sent().present(),[2]}})})},n.prototype.dataHandle=function(n){"upUserServiceImg_ret"==n.type&&(this.addServiceImgs(),console.log("\u91cd\u65b0\u52a0\u8f7d\u4ee5\u4fbf\u5237\u65b0\u663e\u793a\u56fe\u7247")),"addServiceImgs_ret"==n.type&&(console.log("addServiceImgs_ret="+JSON.stringify(n)),null!=n.serviceImgs&&null!=n.serviceImgs&&(this.showImg=n.serviceImgs))},n.prototype.ngOnInit=function(){this.addServiceImgs()},n}(),s=function(){return function(){}}(),b=t("pMnS"),p=t("oBZk"),d=l.nb({encapsulation:0,styles:[[".header_class_[_ngcontent-%COMP%]{padding-top:20px;background:rgba(49,49,49,.9)}.toolbar-ios-button2[_ngcontent-%COMP%]   .toolbar-background-ios[_ngcontent-%COMP%]{background:rgba(49,49,49,.9)!important}.toolbar-ios-button2[_ngcontent-%COMP%]   .bar-button-clear-ios[_ngcontent-%COMP%], .toolbar-ios-button2[_ngcontent-%COMP%]   .bar-button-default-ios[_ngcontent-%COMP%], .toolbar-ios-button2[_ngcontent-%COMP%]   .toolbar-title-ios[_ngcontent-%COMP%]{color:#eee}"]],data:{}});function g(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,19,"ion-header",[["no-border",""]],null,null,null,p.ob,p.r)),l.ob(1,49152,null,0,o.E,[l.h,l.k,l.z],null,null),(n()(),l.pb(2,0,null,0,17,"div",[["class","header_class"]],null,null,null,null,null)),(n()(),l.pb(3,0,null,null,16,"div",[["class","head_berd"]],null,null,null,null,null)),(n()(),l.pb(4,0,null,null,15,"ion-toolbar",[["color","primary"],["mode","ios"]],null,null,null,p.Tb,p.W)),l.ob(5,49152,null,0,o.Fb,[l.h,l.k,l.z],{color:[0,"color"],mode:[1,"mode"]},null),(n()(),l.pb(6,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,p.cb,p.f)),l.ob(7,49152,null,0,o.o,[l.h,l.k,l.z],null,null),(n()(),l.pb(8,0,null,0,2,"ion-back-button",[["text",""]],null,[[null,"click"]],function(n,e,t){var o=!0;return"click"===e&&(o=!1!==l.zb(n,10).onClick(t)&&o),o},p.Z,p.c)),l.ob(9,49152,null,0,o.j,[l.h,l.k,l.z],{text:[0,"text"]},null),l.ob(10,16384,null,0,o.k,[[2,o.lb],o.Mb],null,null),(n()(),l.pb(11,0,null,0,2,"ion-title",[],null,null,null,p.Rb,p.U)),l.ob(12,49152,null,0,o.Db,[l.h,l.k,l.z],null,null),(n()(),l.Hb(-1,0,["\u8bbe\u7f6e\u5c01\u9762"])),(n()(),l.pb(14,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,p.cb,p.f)),l.ob(15,49152,null,0,o.o,[l.h,l.k,l.z],null,null),(n()(),l.pb(16,0,null,0,3,"ion-button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.add_img()&&l),l},p.bb,p.e)),l.ob(17,49152,null,0,o.n,[l.h,l.k,l.z],null,null),(n()(),l.pb(18,0,null,0,1,"ion-icon",[["name","more"]],null,null,null,p.pb,p.s)),l.ob(19,49152,null,0,o.F,[l.h,l.k,l.z],{name:[0,"name"]},null),(n()(),l.pb(20,0,null,null,3,"ion-content",[["style","background: #000000;"]],null,null,null,p.kb,p.n)),l.ob(21,49152,null,0,o.x,[l.h,l.k,l.z],null,null),(n()(),l.pb(22,0,null,0,1,"div",[["style","margin-top:1.5rem;"]],null,null,null,null,null)),(n()(),l.pb(23,0,null,null,0,"img",[["style","width:100%"]],[[8,"src",4]],null,null,null,null))],function(n,e){n(e,5,0,"primary","ios"),n(e,9,0,""),n(e,19,0,"more")},function(n,e){n(e,23,0,l.rb(1,"",e.component.showImg,""))})}function h(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,1,"app-my-explain-setserviceimgs",[],null,null,null,g,d)),l.ob(1,114688,null,0,c,[i.a,o.Mb,o.b,o.a,o.Jb,r.a],null,null)],function(n,e){n(e,1,0)},null)}var m=l.lb("app-my-explain-setserviceimgs",c,h,{},{},[]),f=t("Ip0R"),y=t("gIcY"),v=t("ZYCi");t.d(e,"MyExplainSetserviceimgsPageModuleNgFactory",function(){return I});var I=l.mb(s,[],function(n){return l.wb([l.xb(512,l.j,l.bb,[[8,[b.a,m]],[3,l.j],l.x]),l.xb(4608,f.l,f.k,[l.u,[2,f.w]]),l.xb(4608,y.r,y.r,[]),l.xb(4608,o.c,o.c,[l.z,l.g]),l.xb(4608,o.Lb,o.Lb,[o.c,l.j,l.q]),l.xb(4608,o.Qb,o.Qb,[o.c,l.j,l.q]),l.xb(1073742336,f.b,f.b,[]),l.xb(1073742336,y.p,y.p,[]),l.xb(1073742336,y.e,y.e,[]),l.xb(1073742336,o.Hb,o.Hb,[]),l.xb(1073742336,v.q,v.q,[[2,v.x],[2,v.p]]),l.xb(1073742336,s,s,[]),l.xb(1024,v.n,function(){return[[{path:"",component:c}]]},[])])})}}]);