(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{Qfdh:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),i=l("ZZ/e"),o=l("Pk4o"),u=l("Pn9U"),a=function(n,t,l,e){return new(l||(l=Promise))(function(i,o){function u(n){try{r(e.next(n))}catch(t){o(t)}}function a(n){try{r(e.throw(n))}catch(t){o(t)}}function r(n){n.done?i(n.value):new l(function(t){t(n.value)}).then(u,a)}r((e=e.apply(n,t||[])).next())})},r=function(n,t){var l,e,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(l)throw new TypeError("Generator is already executing.");for(;u;)try{if(l=1,e&&(i=2&o[0]?e.return:o[0]?e.throw||((i=e.return)&&i.call(e),0):e.next)&&!(i=i.call(e,o[1])).done)return i;switch(e=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,e=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(n,u)}catch(a){o=[6,a],e=0}finally{l=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=function(){function n(n,t,l,e,i,o,u,a){this.navCtrl=n,this.ActivatedRoute=t,this.Router=l,this.actionSheetCtrl=e,this.loadingCtrl=i,this.camera=o,this.storage=u,this.appmin=a,this.cname="\u672a\u767b\u5f55",this.sex="",this.sexShow="",this.myDate="",this.qianming="\u4ec0\u4e48\u4e5f\u6ca1\u5199\u256e(\u256f_\u2570)\u256d",this.userImg="../assets/img/\u5934\u50cf.png","ios"==this.appmin.GetPhoneMode()?this.header_class="header_class":(this.header_class="header_class",console.log("\u5224\u65ad\u4e3a\u5b89\u5353\u7cfb\u7edf \u8bbe\u7f6e\u72b6\u6001\u680f\u6837\u5f0f")),console.log("constructor"),this.addUserData()}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad MysetdataPage"),this.addStorageData()},n.prototype.send=function(n,t){return a(this,void 0,void 0,function(){var l,e=this;return r(this,function(i){switch(i.label){case 0:return t?(l=this,[4,this.loadingCtrl.create({message:"\u52a0\u8f7d\u4e2d...",duration:3e3})]):[3,3];case 1:return l.loader=i.sent(),[4,this.loader.present()];case 2:i.sent(),i.label=3;case 3:return this.appmin.get(JSON.parse(n)).subscribe(function(n){e.dataHandle(n)}),[2]}})})},n.prototype.jianjie_click=function(){this.Router.navigate(["mysetdata-info"],{queryParams:{jianjie:this.qianming}})},n.prototype.shezsex=function(){return a(this,void 0,void 0,function(){var n=this;return r(this,function(t){switch(t.label){case 0:return Object(o.b)("\u8bbe\u7f6e\u6027\u522b\u6309\u94ae\u88ab\u5355\u51fb"),[4,this.actionSheetCtrl.create({buttons:[{text:"\u7537",icon:"ios-male",handler:function(){Object(o.b)("\u7537_click"),n.sex="0",n.sexShow="\u7537"}},{text:"\u5973",icon:"ios-female",handler:function(){Object(o.b)("\u5973_click"),n.sex="1",n.sexShow="\u5973"}},{text:"\u53d6\u6d88",role:"cancel",handler:function(){Object(o.b)("\u53d6\u6d88_click")}}]})];case 1:return t.sent().present(),[2]}})})},n.prototype.set_date=function(){Object(o.b)("\u4fee\u6539\u65e5\u671f\u6309\u94aeclick")},n.prototype.baoc_click=function(){this.setUserData()},n.prototype.setUserData=function(){var n={type:"setUserData",userId:this.appmin.getUserid(),cname:this.cname,sex:this.sex,stratDate:this.myDate,qianming:this.qianming};this.send(JSON.stringify(n),!0)},n.prototype.addUserData=function(){var n={type:"addUserData_mySetData",userId:this.appmin.getUserid()};this.send(JSON.stringify(n),!1)},n.prototype.qianming_click=function(n){n.length>=20&&(n=n.substring(0,20)),this.qianming=n},n.prototype.cname_keyup=function(n){n.length>=8&&(n=n.substring(0,8)),this.cname=n},n.prototype.selectuserimg_click=function(){return a(this,void 0,void 0,function(){var n=this;return r(this,function(t){switch(t.label){case 0:return[4,this.actionSheetCtrl.create({header:"\u4e0a\u4f20\u5934\u50cf",buttons:[{text:"\u56fe\u5e93\u4e0a\u4f20",role:"destructive",handler:function(){Object(o.b)("\u4e0a\u4f20\u5934\u50cfclick"),n.userSelectImg()}},{text:"\u62cd\u7167\u4e0a\u4f20",handler:function(){Object(o.b)("\u62cd\u7167\u4e0a\u4f20_click"),n.Photograph()}},{text:"\u53d6\u6d88",role:"cancel",handler:function(){Object(o.b)("\u53d6\u6d88_click")}}]})];case 1:return t.sent().present(),[2]}})})},n.prototype.Photograph=function(){var n=this;this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:400,targetHeight:400,allowEdit:!0,cameraDirection:0}).then(function(t){console.log("imageData="+t),n.getBase64Image(t)},function(n){console.log("\u76f8\u673a\u51fa\u9519="+n)})},n.prototype.userSelectImg=function(){var n=this;this.camera.getPicture({quality:100,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,targetWidth:400,targetHeight:400,allowEdit:!0,cameraDirection:1,sourceType:2}).then(function(t){console.log("imageData="+t),n.getBase64Image(t)},function(n){console.log("\u76f8\u673a\u51fa\u9519="+n)})},n.prototype.getBase64Image=function(n){n=window.Ionic.WebView.convertFileSrc(n),console.log("getBase64Image!="+n);var t=this,l=new Image;l.src=n,l.onload=function(){console.log("getBase64Image img.onload!");var n=document.createElement("canvas");n.width=l.width,n.height=l.height,n.getContext("2d").drawImage(l,0,0,l.width,l.height);var e=n.toDataURL("image/jpeg");t.userImg=e;var i={type:"updataUserImg",userid:t.appmin.getUserid(),userImgUri:e};t.appmin.post(i).subscribe(function(n){t.dataHandle(n)}),console.log("getBase64Image_json="+JSON.stringify(i))}},n.prototype.dataHandle=function(n){if("setUserData_ok"==n.type&&this.navCtrl.pop(),"addUserData_mySetData_ret"==n.type){this.cname=n.CName,this.storage.set("CName",n.CName),"0"==n.sex?(this.sexShow="\u7537",this.storage.set("userSex","\u7537")):(this.sexShow="\u5973",this.storage.set("userSex","\u5973"));var t=n.UserImgUrl;console.log("userimg="+t),""!=t.trim()?(this.userImg=n.UserImgUrl,this.storage.set("userimg",n.UserImgUrl),this.appmin.setUserImg(n.UserImgUrl)):(this.userImg="../assets/img/\u5934\u50cf.png",this.storage.set("userimg","../assets/img/\u5934\u50cf.png")),this.myDate=n.startdate,this.storage.set("startdate",n.startdate),this.qianming=n.qianming,this.storage.set("gexingqianming",n.qianming)}},n.prototype.addStorageData=function(){Object(o.b)("\u4ece\u672c\u5730\u5b58\u50a8\u52a0\u8f7d\u7528\u6237\u6570\u636e");var n=this;this.storage.ready().then(function(){n.storage.get("userSex").then(function(t){n.sexShow=t}),n.storage.get("CName").then(function(t){n.cname=t}),n.storage.get("gexingqianming").then(function(t){n.qianming=t}),n.storage.get("userimg").then(function(t){n.userImg=t}),n.storage.get("startdate").then(function(t){n.myDate=t})})},n.prototype.ngOnInit=function(){},n}(),c=function(){return function(){}}(),b=l("pMnS"),h=l("oBZk"),g=l("gIcY"),p=l("ZYCi"),d=l("iw74"),m=e.nb({encapsulation:0,styles:[["ion-item[_ngcontent-%COMP%]{--background:#ffffff;--border-color:#eeeeee}.toux_div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left;line-height:45px;font-size:1em!important;color:#333!important}.toux_div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;width:45px;height:45px;border-radius:50%}.item-ios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:3333333!important}.cname_input[_ngcontent-%COMP%]{padding-right:10px;text-align:right}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#333!important}.text-input-ios[_ngcontent-%COMP%]{text-align:right}.datetime-text[_ngcontent-%COMP%]{color:#666!important}.list_f[_ngcontent-%COMP%]{margin-top:1rem}.list-ios[inset][_ngcontent-%COMP%]{margin:0}.item_sex[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333!important}.item_sex[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){float:left;font-size:1em}.item_sex[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){float:right;font-size:1em}.nab_p[_ngcontent-%COMP%]{font-family:Georgia,'Times New Roman',Times,serif}.list_f[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#4d4d4d!important}.qm_inp[_ngcontent-%COMP%]{font-size:.9em}"]],data:{}});function f(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,20,"ion-header",[["no-border",""]],null,null,null,h.ob,h.r)),e.ob(1,49152,null,0,i.E,[e.h,e.k,e.z],null,null),(n()(),e.pb(2,0,null,0,18,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),e.pb(3,0,null,null,17,"div",[["class","head_berd"]],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,16,"ion-toolbar",[["color","primary"],["mode","ios"]],null,null,null,h.Tb,h.W)),e.ob(5,49152,null,0,i.Fb,[e.h,e.k,e.z],{color:[0,"color"],mode:[1,"mode"]},null),(n()(),e.pb(6,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.cb,h.f)),e.ob(7,49152,null,0,i.o,[e.h,e.k,e.z],null,null),(n()(),e.pb(8,0,null,0,2,"ion-back-button",[["text",""]],null,[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,10).onClick(l)&&i),i},h.Z,h.c)),e.ob(9,49152,null,0,i.j,[e.h,e.k,e.z],{text:[0,"text"]},null),e.ob(10,16384,null,0,i.k,[[2,i.lb],i.Mb],null,null),(n()(),e.pb(11,0,null,0,2,"ion-title",[],null,null,null,h.Rb,h.U)),e.ob(12,49152,null,0,i.Db,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,["\u4fee\u6539\u8d44\u6599"])),(n()(),e.pb(14,0,null,0,6,"ion-buttons",[["slot","end"]],null,null,null,h.cb,h.f)),e.ob(15,49152,null,0,i.o,[e.h,e.k,e.z],null,null),(n()(),e.pb(16,0,null,0,4,"ion-button",[],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.baoc_click()&&e),e},h.bb,h.e)),e.ob(17,49152,null,0,i.n,[e.h,e.k,e.z],null,null),(n()(),e.pb(18,0,null,0,2,"ion-label",[["style","font-size: 1.5rem;"]],null,null,null,h.wb,h.z)),e.ob(19,49152,null,0,i.Q,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,["\u4fdd\u5b58"])),(n()(),e.pb(21,0,null,null,49,"ion-content",[["style","background:rgb(245, 245, 249) none repeat scroll 0% 0%;"]],null,null,null,h.kb,h.n)),e.ob(22,49152,[["MysetdataPage_content1",4]],0,i.x,[e.h,e.k,e.z],null,null),(n()(),e.pb(23,0,null,0,47,"div",[],null,null,null,null,null)),(n()(),e.pb(24,0,null,null,46,"ion-item-group",[["class","list_f"]],null,null,null,h.ub,h.y)),e.ob(25,49152,null,0,i.M,[e.h,e.k,e.z],null,null),(n()(),e.pb(26,0,null,0,7,"ion-item",[["detail",""]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.selectuserimg_click()&&e),e},h.vb,h.x)),e.ob(27,49152,null,0,i.K,[e.h,e.k,e.z],{detail:[0,"detail"]},null),(n()(),e.pb(28,0,null,0,2,"ion-label",[],null,null,null,h.wb,h.z)),e.ob(29,49152,null,0,i.Q,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,[" \u4fee\u6539\u5934\u50cf "])),(n()(),e.pb(31,0,null,0,2,"ion-avatar",[["slot","end"]],null,null,null,h.Y,h.b)),e.ob(32,49152,null,0,i.i,[e.h,e.k,e.z],null,null),(n()(),e.pb(33,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),e.pb(34,0,null,0,8,"ion-item",[],null,null,null,h.vb,h.x)),e.ob(35,49152,null,0,i.K,[e.h,e.k,e.z],null,null),(n()(),e.pb(36,0,null,0,2,"ion-label",[],null,null,null,h.wb,h.z)),e.ob(37,49152,null,0,i.Q,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,["\u6635\u79f0\uff1a"])),(n()(),e.pb(39,0,null,0,3,"ion-input",[["class","cname_input"],["slot","end"],["type","text"]],null,[[null,"keyup"],[null,"ionBlur"],[null,"ionChange"]],function(n,t,l){var i=!0,o=n.component;return"ionBlur"===t&&(i=!1!==e.zb(n,42)._handleBlurEvent(l.target)&&i),"ionChange"===t&&(i=!1!==e.zb(n,42)._handleInputEvent(l.target)&&i),"keyup"===t&&(i=!1!==o.cname_keyup(e.zb(n,41).value)&&i),i},h.tb,h.w)),e.Eb(5120,null,g.h,function(n){return[n]},[i.Tb]),e.ob(41,49152,[["cnameInp",4]],0,i.J,[e.h,e.k,e.z],{type:[0,"type"],value:[1,"value"]},null),e.ob(42,16384,null,0,i.Tb,[e.k],null,null),(n()(),e.pb(43,0,null,0,10,"ion-item",[["detail",""]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.shezsex()&&e),e},h.vb,h.x)),e.ob(44,49152,null,0,i.K,[e.h,e.k,e.z],{detail:[0,"detail"]},null),(n()(),e.pb(45,0,null,0,4,"ion-label",[],null,null,null,h.wb,h.z)),e.ob(46,49152,null,0,i.Q,[e.h,e.k,e.z],null,null),(n()(),e.pb(47,0,null,0,2,"ion-text",[],null,null,null,h.Pb,h.S)),e.ob(48,49152,null,0,i.Ab,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,[" \u6027\u522b "])),(n()(),e.pb(50,0,null,0,3,"ion-text",[["slot","end"]],null,null,null,h.Pb,h.S)),e.ob(51,49152,null,0,i.Ab,[e.h,e.k,e.z],null,null),(n()(),e.pb(52,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Hb(53,null,["",""])),(n()(),e.pb(54,0,null,0,11,"ion-item",[],null,null,null,h.vb,h.x)),e.ob(55,49152,null,0,i.K,[e.h,e.k,e.z],null,null),(n()(),e.pb(56,0,null,0,2,"ion-label",[["class",""]],null,null,null,h.wb,h.z)),e.ob(57,49152,null,0,i.Q,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,["\u51fa\u751f\u65e5\u671f"])),(n()(),e.pb(59,0,null,0,6,"ion-datetime",[["cancelText","\u53d6\u6d88"],["displayFormat","YYYY/MM/DD"],["doneText","\u786e\u5b9a"],["max","2017-12-12"],["min","1930-01-01"],["placeholder","1994-02-01"],["slot","end"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,t,l){var i=!0,o=n.component;return"ionBlur"===t&&(i=!1!==e.zb(n,60)._handleBlurEvent(l.target)&&i),"ionChange"===t&&(i=!1!==e.zb(n,60)._handleChangeEvent(l.target)&&i),"ngModelChange"===t&&(i=!1!==(o.myDate=l)&&i),i},h.lb,h.o)),e.ob(60,16384,null,0,i.Sb,[e.k],null,null),e.Eb(1024,null,g.h,function(n){return[n]},[i.Sb]),e.ob(62,671744,null,0,g.m,[[8,null],[8,null],[8,null],[6,g.h]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,g.i,null,[g.m]),e.ob(64,16384,null,0,g.j,[[4,g.i]],null,null),e.ob(65,49152,null,0,i.y,[e.h,e.k,e.z],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],max:[3,"max"],min:[4,"min"],placeholder:[5,"placeholder"]},null),(n()(),e.pb(66,0,null,0,4,"ion-item",[["detail",""]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.jianjie_click()&&e),e},h.vb,h.x)),e.ob(67,49152,null,0,i.K,[e.h,e.k,e.z],{detail:[0,"detail"]},null),(n()(),e.pb(68,0,null,0,2,"ion-label",[],null,null,null,h.wb,h.z)),e.ob(69,49152,null,0,i.Q,[e.h,e.k,e.z],null,null),(n()(),e.Hb(-1,0,[" \u7b7e\u540d "]))],function(n,t){var l=t.component;n(t,5,0,"primary","ios"),n(t,9,0,""),n(t,27,0,""),n(t,41,0,"text",e.rb(1,"",l.cname,"")),n(t,44,0,""),n(t,62,0,l.myDate),n(t,65,0,"\u53d6\u6d88","YYYY/MM/DD","\u786e\u5b9a","2017-12-12","1930-01-01","1994-02-01"),n(t,67,0,"")},function(n,t){var l=t.component;n(t,2,0,e.rb(1,"",l.header_class,"")),n(t,33,0,e.rb(1,"",l.userImg,"")),n(t,53,0,l.sexShow),n(t,59,0,e.zb(t,64).ngClassUntouched,e.zb(t,64).ngClassTouched,e.zb(t,64).ngClassPristine,e.zb(t,64).ngClassDirty,e.zb(t,64).ngClassValid,e.zb(t,64).ngClassInvalid,e.zb(t,64).ngClassPending)})}function y(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"app-mysetdata",[],null,null,null,f,m)),e.ob(1,114688,null,0,s,[i.Mb,p.a,p.p,i.a,i.Jb,u.a,d.b,o.a],null,null)],function(n,t){n(t,1,0)},null)}var x=e.lb("app-mysetdata",s,y,{},{},[]),k=l("Ip0R");l.d(t,"MysetdataPageModuleNgFactory",function(){return _});var _=e.mb(c,[],function(n){return e.wb([e.xb(512,e.j,e.bb,[[8,[b.a,x]],[3,e.j],e.x]),e.xb(4608,k.l,k.k,[e.u,[2,k.w]]),e.xb(4608,g.r,g.r,[]),e.xb(4608,i.c,i.c,[e.z,e.g]),e.xb(4608,i.Lb,i.Lb,[i.c,e.j,e.q]),e.xb(4608,i.Qb,i.Qb,[i.c,e.j,e.q]),e.xb(1073742336,k.b,k.b,[]),e.xb(1073742336,g.p,g.p,[]),e.xb(1073742336,g.e,g.e,[]),e.xb(1073742336,i.Hb,i.Hb,[]),e.xb(1073742336,p.q,p.q,[[2,p.x],[2,p.p]]),e.xb(1073742336,c,c,[]),e.xb(1024,p.n,function(){return[[{path:"",component:s}]]},[])])})}}]);