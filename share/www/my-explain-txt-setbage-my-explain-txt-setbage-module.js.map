{"version":3,"sources":["webpack:///./src/app/my-explain-txt-setbage/my-explain-txt-setbage.module.ts","webpack:///./src/app/my-explain-txt-setbage/my-explain-txt-setbage.page.html","webpack:///./src/app/my-explain-txt-setbage/my-explain-txt-setbage.page.scss","webpack:///./src/app/my-explain-txt-setbage/my-explain-txt-setbage.page.ts"],"names":[],"mappings":"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","file":"my-explain-txt-setbage-my-explain-txt-setbage-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyExplainTxtSetbagePage } from './my-explain-txt-setbage.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyExplainTxtSetbagePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MyExplainTxtSetbagePage]\n})\nexport class MyExplainTxtSetbagePageModule {}\n","module.exports = \"\\n<ion-header no-border>\\n    <div class=\\\"{{header_class}}\\\">\\n      <div class=\\\"head_berd\\\">\\n          <ion-toolbar color=\\\"primary\\\" mode=\\\"ios\\\">\\n              <ion-buttons slot=\\\"start\\\">\\n                <ion-back-button text=\\\"\\\"></ion-back-button>\\n              </ion-buttons>\\n          <ion-title>我的印象标签</ion-title>\\n          <ion-buttons slot='end'>\\n            <ion-button ion-button (click)=\\\"baoc_click()\\\">\\n              <ion-label>保存</ion-label>\\n            </ion-button>\\n          </ion-buttons>\\n        </ion-toolbar>\\n      </div>\\n    </div>\\n  </ion-header >\\n  \\n    <ion-content>\\n      <div class=\\\"shuom_f \\\" style=\\\"margin-bottom: 40px;\\\">\\n  \\n        <p style=\\\"color:#666666\\\">印象表情设置，印象表情将显示在你的详情页。根据用户评价显示认可度最高的前4个，此页面只做初始设置和查看用户认可度。</p>\\n        <div style=\\\"    margin-top: 10px;    margin-bottom: 10px;border: 1px solid #eee;\\\"></div>\\n        <div class=\\\"badgeF\\\">\\n          <p style=\\\"color:#666666\\\">已选择({{objImpressionedSum}}/4)</p>\\n          <ion-badge item-end color=\\\"secondary\\\" (click)=\\\"selectbadgeEd($event)\\\" *ngFor=\\\"let item of objImpressioned\\\">{{item.txt}}({{item.sum}})</ion-badge>\\n          <ion-badge item-end color=\\\"primary\\\" (click)=\\\"addbadgeEd()\\\">...添加</ion-badge>\\n        </div>\\n        <div class=\\\"badgeF2\\\">\\n          <p style=\\\"color:#666666\\\">全部</p>\\n          <ion-badge item-end color=\\\"secondary\\\" *ngFor=\\\" let item of objImpression\\\" (click)=\\\"selectbadge($event)\\\">{{item}}</ion-badge>\\n        </div>\\n  \\n  \\n      </div> \\n    </ion-content>\"","module.exports = \".shuom_f {\\n  margin-left: 16px;\\n  margin-top: 20px;\\n  margin-right: 16px;\\n  font-size: 1.45rem; }\\n\\n.badgeF ion-badge {\\n  box-shadow: 1px 1px 1px #eee;\\n  color: #ffffff;\\n  font-size: 1.4rem;\\n  border: 1px solid #ffffff;\\n  margin-top: 0.4rem;\\n  margin-left: 0.4rem;\\n  box-shadow: 1px 2px 1px #eee; }\\n\\n.badgeF2 ion-badge {\\n  background: #ffffff;\\n  border: 1px solid #999999;\\n  color: #999999;\\n  margin-top: 0.4rem;\\n  margin-left: 0.4rem;\\n  font-size: 1.4rem;\\n  box-shadow: 1px 2px 1px #eee; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWl5ZS9Eb2N1bWVudHMvbXlhcHAgaW9uaWM0L215QXBwL3NyYy9hcHAvbXktZXhwbGFpbi10eHQtc2V0YmFnZS9teS1leHBsYWluLXR4dC1zZXRiYWdlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBRWxCLGtCQUFrQixFQUFBOztBQUV0QjtFQUNJLDRCQUE0QjtFQUM1QixjQUFjO0VBQ2QsaUJBQWlCO0VBQ2pCLHlCQUF3QjtFQUN4QixrQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLDRCQUE0QixFQUFBOztBQUVoQztFQUNJLG1CQUFtQjtFQUNuQix5QkFBd0I7RUFDeEIsY0FBYztFQUNkLGtCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsaUJBQWlCO0VBRWpCLDRCQUE0QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbXktZXhwbGFpbi10eHQtc2V0YmFnZS9teS1leHBsYWluLXR4dC1zZXRiYWdlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLnNodW9tX2Z7XG4gICAgbWFyZ2luLWxlZnQ6IDE2cHg7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG5cbiAgICBmb250LXNpemU6IDEuNDVyZW07XG59XG4uYmFkZ2VGIGlvbi1iYWRnZXtcbiAgICBib3gtc2hhZG93OiAxcHggMXB4IDFweCAjZWVlO1xuICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgIGZvbnQtc2l6ZTogMS40cmVtO1xuICAgIGJvcmRlcjoxcHggc29saWQgI2ZmZmZmZjtcbiAgICBtYXJnaW4tdG9wOjAuNHJlbTsgXG4gICAgbWFyZ2luLWxlZnQ6IDAuNHJlbTtcbiAgICBib3gtc2hhZG93OiAxcHggMnB4IDFweCAjZWVlO1xufVxuLmJhZGdlRjIgaW9uLWJhZGdle1xuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gICAgYm9yZGVyOjFweCBzb2xpZCAjOTk5OTk5O1xuICAgIGNvbG9yOiAjOTk5OTk5O1xuICAgIG1hcmdpbi10b3A6MC40cmVtOyBcbiAgICBtYXJnaW4tbGVmdDogMC40cmVtO1xuICAgIGZvbnQtc2l6ZTogMS40cmVtO1xuXG4gICAgYm94LXNoYWRvdzogMXB4IDJweCAxcHggI2VlZTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, AlertController, ActionSheetController, LoadingController } from '@ionic/angular';\nimport { AppMin } from '../core';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport * as $ from 'jquery'\n\n\n\n@Component({\n  selector: 'app-my-explain-txt-setbage',\n  templateUrl: './my-explain-txt-setbage.page.html',\n  styleUrls: ['./my-explain-txt-setbage.page.scss'],\n})\nexport class MyExplainTxtSetbagePage implements OnInit {\n  header_class;\n\n  objImpressionedSum;\n  objImpressioned;\n  objImpression: string[];\n  constructor(public appmin: AppMin, public navCtrl: NavController,  public alertCtrl: AlertController, public actionSheetCtrl: ActionSheetController, public loadingCtrl?: LoadingController, private camera?: Camera) {\n\n    if (appmin.GetPhoneMode() == \"ios\") {\n      this.header_class = \"header_class\";\n    }\n    else {\n      this.header_class = \"header_class\";\n      console.log(\"判断为安卓系统 设置状态栏样式\")\n    }\n\n\n    //------------加载网络监听器\n    // socket1.removeEventListener('message', MyExplainTxtSetbagePage_message);\n    // let _this = this;\n    // MyExplainTxtSetbagePage_message = function (event) {\n\n    //   let meg = JSON.parse(event.data);\n    //   if (meg.type == \"error\") {\n    //     WitePrompt(\"MyExplainTxtSetbagePage_message页面监听消息===\" + JSON.stringify(meg));\n    //   } else {\n    //     WitePrompt(\"MyExplainTxtSetbagePage_message页面监听消息===\" + JSON.stringify(meg));\n    //   }\n    //   // if (_this.loader) {\n    //   //   _this.loader.dismiss();\n    //   //   _this.loader = null;\n    //   // }\n    //   //安全的删除加载框结束 --\n\n    //   if (meg.type == 'addbage_ret') {\n    //     _this.dataHandle(meg);\n\n    //   }\n    //   if (meg.type == 'deleteBadge_ret') {\n    //     _this.dataHandle(meg);\n\n    //   }\n    //   if (meg.type == 'selectbadge_ret') {\n    //     _this.dataHandle(meg);\n\n    //   }\n\n\n    // }\n\n    // socket1.addEventListener('message', MyExplainTxtSetbagePage_message);\n\n    //------------加载网络监听器end\n\n\n\n  }\n  baoc_click() {\n    this.navCtrl.pop();\n  }\n\n \n  selectbadge(event: Event) {\n    //alert($(event.target).text;\n    //1、删除待选数组\n    //2、返回数据后更新已选数组 此方法不做该处理\n\n    if (this.objImpressionedSum >= 4) {\n      //超过了最大数量 弹出提示\n\n      this.presentAlert(\"最多添加4个\");\n      return;\n    }\n\n\n    let selecttxt = $(event.target).text();\n    console.log(\"单击的待选为=\" + selecttxt);\n    let itemok;\n    //查找索引\n\n\n\n    for (let i = 0; i < this.objImpression.length; i++) {\n      if (this.objImpression[i] == selecttxt) {\n        itemok = i;\n        break;\n      }\n    }\n    //根据索引删除数组元素\n    this.objImpression.splice(itemok, 1);\n\n    //发送修改请求\n    let obj = {\n      type: 'selectbadge',\n      txt: selecttxt,\n      userId: this.appmin.getUserid()\n    }\n   // this.appmin.send(JSON.stringify(obj));\n   this.appmin.post(obj).subscribe((data) => {\n    this.dataHandle(data);\n  })\n\n  }\n  async selectbadgeEd(event: Event) {\n    //删除标签\n    //1、弹出删除提示\n    //2、发送删除请求\n    let txt: string = $(event.target).text();\n    let c = txt.indexOf('(');\n    txt = txt.substring(0, c);\n\n    let this1 = this;\n    let alert = await this.alertCtrl.create({\n      header: '提示',\n      message: '确定要删除' + txt + \"吗？\",\n      buttons: [\n        {\n          text: '取消',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: '删除',\n          handler: () => {\n            console.log('Buy clicked');\n\n            let obj = {\n              type: \"deleteBadge\",\n              userId: this.appmin.getUserid(),\n              txt: txt\n            }\n          //  this1.appmin.send(JSON.stringify(obj));\n          this1.appmin.get(obj).subscribe((data) => {\n            this1.dataHandle(data);\n          })\n\n          }\n        }\n      ]\n    });\n    alert.present();\n\n\n  }\n  async presentAlert(val) {\n    let alert = await this.alertCtrl.create({\n      message: '提示',\n      subHeader: val,\n      buttons: ['确定']\n    });\n    alert.present();\n  }\n  async addbadgeEd() {\n    //添加新标签\n\n    if (this.objImpressionedSum >= 4) {\n      //超过了最大数量 弹出提示\n\n      this.presentAlert(\"最多添加4个\");\n      return;\n    }\n\n\n\n    let alert = await this.alertCtrl.create({\n      header: '添加新标签',\n      inputs: [\n        {\n          name: 'name',\n          placeholder: '标签名'\n        }\n      ],\n      buttons: [\n        {\n          text: '取消',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: '确定',\n          handler: data => {\n            let txt = data.name;\n\n            let obj = {\n              type: 'selectbadge',\n              txt: txt,\n              userId: this.appmin.getUserid()\n            }\n          //  this.appmin.send(JSON.stringify(obj));\n          this.appmin.get(obj).subscribe((data) => {\n            this.dataHandle(data);\n          })\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n  addbage() {\n    // console.log(\"addbage()!\");\n    let obj = {\n      type: 'addbage',\n      userId: this.appmin.getUserid()\n    }\n  //  this.appmin.send(JSON.stringify(obj));\n  this.appmin.get(obj).subscribe((data) => {\n    this.dataHandle(data);\n  })\n  }\n  dataHandle(meg) {\n    //  console.log(\"dataHandle()!\");\n\n    if (meg['type'] == 'addbage_ret') {\n      this.objImpressioned = meg['badgeRows'];\n      this.objImpressionedSum = this.objImpressioned.length;\n\n      this.objImpression = meg['badgeRows_'];\n\n      // console.log(\"objImpressionedSum=\"+this.objImpressionedSum);\n      // console.log(\"objImpressioned=\"+JSON.stringify(this.objImpressioned));\n      // console.log(\"objImpressioned_=\"+(this.objImpressioned));\n\n    }\n    if (meg['type'] == \"deleteBadge_ret\") {\n      this.objImpressioned = meg['badgeRows'];\n      this.objImpressionedSum = this.objImpressioned.length;\n    }\n    if (meg['type'] == \"selectbadge_ret\") {\n      // console.log('selectbadge_ret=' + JSON.stringify(meg))\n\n      if (meg['msg'] == 'countmax') {\n        this.presentAlert('最多添加4个，请删除一个标签再添加');\n        return;\n      }\n      if (meg['msg'] == 'existence') {\n        this.presentAlert('这个标签已经添加过了');\n        return;\n      }\n\n      this.objImpressioned = meg['rows'];\n      this.objImpressionedSum = this.objImpressioned.length;\n\n    }\n\n\n\n  }\n\n  ngOnInit() {\n    this.addbage();\n  }\n\n}\n"],"sourceRoot":""}