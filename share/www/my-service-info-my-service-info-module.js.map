{"version":3,"sources":["webpack:///./src/app/my-service-info/my-service-info.module.ts","webpack:///./src/app/my-service-info/my-service-info.page.html","webpack:///./src/app/my-service-info/my-service-info.page.scss","webpack:///./src/app/my-service-info/my-service-info.page.ts"],"names":[],"mappings":"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","file":"my-service-info-my-service-info-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyServiceInfoPage } from './my-service-info.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyServiceInfoPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MyServiceInfoPage]\n})\nexport class MyServiceInfoPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <div class=\\\"head_berd {{header_class}}\\\">\\n    <div>\\n      <ion-toolbar color=\\\"primary\\\" mode=\\\"ios\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button text=\\\"\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>修改服务</ion-title>\\n        <ion-buttons slot='end'>\\n          <ion-button (click)=\\\"baoc_click()\\\">\\n            <ion-label>保存</ion-label>\\n          </ion-button>\\n        </ion-buttons>\\n      </ion-toolbar>\\n    </div>\\n  </div>\\n\\n</ion-header>\\n\\n\\n<ion-content>\\n\\n  <ion-list>\\n    <ion-item>\\n      <ion-label> 是否启用</ion-label>\\n      <ion-toggle [(ngModel)]=\\\"mushrooms\\\" (ionChange)=\\\"ischecked()\\\" checked=\\\"false\\\"></ion-toggle>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label color=\\\"button2\\\" stacked>服务名称</ion-label>\\n      <ion-input [(ngModel)]=\\\"serviceName\\\" type=\\\"text\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label stacked>服务价格</ion-label>\\n      <ion-input placeholder=\\\"0-999.99￥\\\" [(ngModel)]=\\\"serviceMoney\\\" type=\\\"text\\\" aria-placeholder=\\\"0-9999\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">服务内容说明</ion-label>\\n      <ion-textarea [(ngModel)]=\\\"serviceText\\\"></ion-textarea>\\n    </ion-item>\\n\\n\\n    <ion-item style=\\\"display:none\\\">\\n      <ion-label>服务名称</ion-label>\\n      <ion-input type=\\\"text\\\"></ion-input>\\n    </ion-item>\\n  </ion-list>\\n\\n</ion-content>\"","module.exports = \"ion-item {\\n  --background:#ffffff;\\n  --border-color:#eeeeee; }\\n\\nion-content {\\n  --padding-top:16px; }\\n\\nion-input {\\n  --color:#666666; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWl5ZS9Eb2N1bWVudHMvbXlhcHAgaW9uaWM0L215QXBwL3NyYy9hcHAvbXktc2VydmljZS1pbmZvL215LXNlcnZpY2UtaW5mby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQkFBYTtFQUNiLHNCQUFnQixFQUFBOztBQUVwQjtFQUNJLGtCQUFjLEVBQUE7O0FBR2xCO0VBQ0ksZUFBUSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbXktc2VydmljZS1pbmZvL215LXNlcnZpY2UtaW5mby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbXtcbiAgICAtLWJhY2tncm91bmQ6I2ZmZmZmZjtcbiAgICAtLWJvcmRlci1jb2xvciA6I2VlZWVlZTtcbn1cbmlvbi1jb250ZW50e1xuICAgIC0tcGFkZGluZy10b3A6MTZweDtcbn1cblxuaW9uLWlucHV0e1xuICAgIC0tY29sb3I6IzY2NjY2Njtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController, ToastController } from '@ionic/angular';\nimport { AppMin, WitePrompt } from '../core';\nimport { ActivatedRoute } from '@angular/router'\n\n\n@Component({\n  selector: 'app-my-service-info',\n  templateUrl: './my-service-info.page.html',\n  styleUrls: ['./my-service-info.page.scss'],\n})\nexport class MyServiceInfoPage implements OnInit {\n\n  loader;\n\n  object: object;\n\n  mushrooms: boolean;\n\n  serviceName;\n  serviceText=\" \";\n  serviceMoney: any = 0;\n  date;\n  header_class;\n\n  serviceId;\n  constructor(public navCtrl: NavController, public ActivatedRoute: ActivatedRoute, private toastCtrl?: ToastController, public loadingCtrl?: LoadingController, public appMin?: AppMin) {\n\n    if (appMin.GetPhoneMode() == \"ios\") {\n      this.header_class = \"header_class\";\n    }\n    else {\n      this.header_class = \"header_class\";\n      console.log(\"判断为安卓系统 设置状态栏样式\")\n    }\n\n\n    // this.serviceId = this.navParams.get(\"serviceId\");\n    this.serviceId = this.ActivatedRoute.snapshot.queryParams['serviceId'];\n    console.log(\"serviceId=\" + this.ActivatedRoute.snapshot.queryParams['serviceId']);\n  \n    // socket1.removeEventListener('message', MyServiceSetPage_message);\n    // let _this = this;\n\n\n    // MyServiceSetPage_message = function (event) {\n\n    //   let meg = JSON.parse(event.data);\n    //   if (meg.type == \"error\") {\n    //     WitePrompt(\"MyServiceSetPage页面监听消息===\" + JSON.stringify(meg));\n    //   } else {\n    //     WitePrompt(\"MyServiceSetPage页面监听消息===\" + meg.type);\n    //   }\n    //   if (_this.loader) {\n    //     _this.loader.dismiss();\n    //     _this.loader = null;\n    //   }\n    //   //安全的删除加载框结束 --\n    //   if (meg.type == 'addMyServiceSetPage_ret') {\n    //     _this.dataHandle(meg);\n\n    //   }\n\n    // }\n\n    // socket1.removeEventListener('close', MyServiceSetPage_close);\n    // MyServiceSetPage_close = function () {\n    //   WitePrompt('MyServiceSetPage页面真听到close事件');\n    //   let c = setInterval(function () {\n    //     if (socket1.readyState == 1) {\n    //       socket1.removeEventListener('message', MyServiceSetPage_message);\n    //       socket1.addEventListener('message', MyServiceSetPage_message);\n    //       clearInterval(c);\n    //       WitePrompt('MyServiceSetPage页面重新建立连接完成');\n    //       c = null;\n\n\n    //     }\n    //   }, 500)\n\n    // }\n    // socket1.addEventListener('close', MyServiceSetPage_close);\n\n    // socket1.addEventListener('message', MyServiceSetPage_message);\n\n\n    this.addMyServiceSetPage(this.serviceId);\n\n  }\n  ionViewWillLeave() {\n    //即将离开页面\n\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MyServiceSetPage');\n  }\n  async send(value, isshow?: boolean) {\n    if (isshow) {\n      this.loader =  await this.loadingCtrl.create({\n        message: \"加载中...\",\n        duration: 3000\n      });\n    await  this.loader.present();\n    }\n\n\n\n    this.appMin.post(JSON.parse(value)).subscribe((data) => {\n      this.dataHandle(data);\n    })\n\n\n  }\n\n  ischecked() {\n    //是否启用\n    if (this.mushrooms) {\n      WitePrompt(\"ok\")\n    } else {\n      WitePrompt(\"no\")\n    }\n  }\n  addMyServiceSetPage(serviceId) {\n    //加载服务内容\n    WitePrompt(\"serviceId is \" + serviceId);\n    let obj = {\n      type: \"addMyServiceSetPage\",\n      userId: this.appMin.getUserid(),\n      serviceId: serviceId\n    }\n    this.send(JSON.stringify(obj), false);\n  }\n  upServiceDate() {\n    //上传服务数据\n\n\n    if (this.serviceMoney != undefined && this.serviceMoney != null) {\n      WitePrompt(\"parseFloat=\" + parseFloat(this.serviceMoney));\n\n      if (this.appMin.isMoney(this.serviceMoney)) {\n        //输入的是数字\n        if (this.serviceMoney <= 0) {\n          this.presentToast(\"不能是0\");\n          return;\n        }\n        else {\n\n        }\n      }\n      else {\n        //输入的不是数字\n        this.presentToast(\"请输入正确的单价\");\n        return;\n      }\n    }\n    else {\n      //没有填写money\n      this.presentToast(\"请输入单价\");\n      return;\n    }\n\n\n\n    let obj = {\n\n      type: 'upServiceDate',\n      userId: this.appMin.getUserid(),\n      serviceName: this.serviceName,\n      serviceText: this.serviceText,\n      serviceMoney: this.serviceMoney,\n      serviceId: this.serviceId,\n      state: (this.mushrooms == true) ? 1 : 0\n\n    }\n    this.send(JSON.stringify(obj), true);\n\n    this.navCtrl.pop();\n  }\n  baoc_click() {\n    //保存按钮\n    this.upServiceDate();\n  }\n  dataHandle(meg: any) {\n    if (meg['type'] == \"addMyServiceSetPage_ret\") {\n\n      let state = meg[\"state\"];\n      if (state == \"1\") {\n        //启用\n        this.mushrooms = true;\n      }\n      else {\n        this.mushrooms = false;\n      }\n      this.serviceName = meg['serviceName'];\n      this.serviceMoney = meg['serviceMoney'];\n      this.serviceText = meg['serviceText'];\n\n    }\n  }\n  async presentToast(txt: string) {\n    let toast = await this.toastCtrl.create({\n      message: txt,\n      duration: 3000,\n      position: 'top'\n    });\n    toast.present();\n  }\n\n  ngOnInit() {\n\n  }\n\n}\n"],"sourceRoot":""}